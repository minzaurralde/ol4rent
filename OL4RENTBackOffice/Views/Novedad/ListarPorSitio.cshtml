@model List<Ol4RentAPI.DTO.NovedadListadoDTO>
@{
    Ol4RentAPI.DTO.SitioEdicionDTO sitio = ViewBag.Sitio;
    ViewBag.Title = "Novedades locales del sitio " + sitio.Nombre;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@ViewBag.Title</h2>
<p>
    @Html.ActionLink("Crear nueva novedad", "Crear", "Novedad", new { idSitio = sitio.Id }, null)
</p>
@if (Model.Count > 0) {
<table>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model[0].Titulo)
        </th>
        <th>
            @Html.DisplayNameFor(model => model[0].Fecha)
        </th>
        <th>
            @Html.DisplayNameFor(model => model[0].Contenido)
        </th>
        <th>Acciones</th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Titulo)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Fecha)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Contenido)
        </td>
        <td>
            @Html.ActionLink("Modificar", "Editar", "Novedad", new { id = item.Id, idSitio = sitio.Id }, null) 
            @Html.ActionLink("Eliminar", "Eliminar", "Novedad", new { id = item.Id, idSitio = sitio.Id }, null)
        </td>
    </tr>
}

</table>
} else {
<p>No existen novedades locales para el sitio @sitio.Nombre</p>
}

